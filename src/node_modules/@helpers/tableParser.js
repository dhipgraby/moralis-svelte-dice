import { getEth } from "@helpers/main";

export async function userGamesTable(user_games){

    var gamesArray = [];    
    
    for(var i = 0; i < user_games.length; i++) {
      let _coinFace = parseInt(user_games[i].coinFace);
      let luckyNum = parseInt(user_games[i].games[0].randomNumber);
      let win = false;
      let amount = await getEth(user_games[i].amount)
       
      //Number Higher than 51
      if (_coinFace == 1) { 
          win = (luckyNum > 51) ? true: false;
      }
      //Number Lower than 49
      if (_coinFace == 2) {
        win = (luckyNum < 49) ? true: false;
      }

      let profit = (parseFloat(amount)  * 0.4) + parseFloat(amount);
      let profitLoss = (win == true) ?  profit : "-" + amount;

      gamesArray[i] = {
        gameId: user_games[i].queryId.substr(0, 6) + "...",
        number: luckyNum,
        amount: amount,
        profitLoss: profitLoss,
        date: user_games[i].createdAt,
      };
    }    
    return gamesArray
}    
    